# 11장 정리
1. 질의 함수와 변경 함수 분리하기
   '질의 함수(읽기 함수)는 모두 부수효과가 없어야 한다' -> 명령 - 질의 분리
   
   겉보기 부수효과라고 표현하는 이유는 캐싱과 같은 기능에서 객체의 상태를 변경하지만 객체 밖에서는 이를 관찰할 수 는 없다. 즉, 겉보디 부수효과가 없이 어떤 순서로 호출하든 모든 호출에 항상 똑같은 값을 반환할 뿐이다.

2. 함수 매개변수화하기

3. 플래그 인수 제거하기
   플래그 인수는 호출할 수 있는 함수들이 무엇이고 어떻게 호출해야 하는지를 이해하기 어려워진다.
   플래그 인수가 있으면 함수들의 기능 차이가 잘 드러나지 않는다.

4. 객체 통째로 넘기기
   레코드를 통째로 넘기면 변화에 대응하기 쉽다. 
   함수가 레코드 자체에 의존하기를 원치 않을 때는 이 리팩터링을 수행하지 않는데, 레코드와 함수가 서로 다른 모듈에 속한 상황이면 특히 더 그렇다.
      1. 객체로 넘길때에도 값을 묶거나, 분리해서 적절하게 넘겨라
      2. 다른 객체의 메서드를 호출하면서 호출하는 객체 자신이 가지고 있는 데이터 여러 개를 건네는 경우. 데이터 여러개 대신 객체 자신의 참조만 건네도록 수정해라(JS라면 this를 건넬것) 

5. 매개변수를 질의 함수로 바꾸기 CQRS
   매개변수 목록은 함수의 변동 요인을 모아놓은 곳이다. 즉, 함수의 동작에 변화를 줄 수 있는 일파적인 수단이다. 다른 코드와 마찬가지로 이 목록에서도 중복은 피하는 게 좋으며 짧을수록 이해하기 쉽다.
      피 호풀 함수가 스스호 쉽게 결정할 수 있는 값을 매개변수로 건네는 것도 일종의 중복이다.

      매개변수를 질의 함수로 바꾸지 말아야 할 상황도 있다. 매개변수를 제거하면 피호풀 함수에 원치 않는 의존성이 생길 때다. 
   - 주의 사항
         대상 함수가 참조 투명해야 한다는 것이다. 참조 투명이란 '함수에 똑같은 값을 건네 호출하면 항상 똑같이 동작한다'(멱등성같은뎅..)

6. 질의 함수를 매개변수로 바꾸기
   전역 변수를 참조한다든지 거북한 참조 발견시 여기에 속한다. 
   똑같은 값을 건네면 매번 똑같은 결과를 내는 함수는 다루기 쉽다. 이런 성질을 '참조 투명성'이라 한다.
      참조 투명하지 않은 원소에 접근하는 모든 함수는 참조 투명성을 잃게 되는데, 이 문제는 해당 원소를 매개변수로 바꾸면 해결된다.
   - 단점
      질의 함수를 매개변수로 바꾸면 어떤 값을 제공할지를 호출자가 알아내야 한다. 

7. 세터 제거하기
   
   --- 2020.11.04 ---